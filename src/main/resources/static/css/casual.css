@charset "UTF-8";
/* =========================================
   ğŸ”˜ ãƒœã‚¿ãƒ³å…±é€šè¨­å®š (Base Button)
   é€ä¿¡(button)ã‚‚ãƒªãƒ³ã‚¯(a)ã‚‚ã€ã“ã‚Œã§ã‚µã‚¤ã‚ºã‚’å®Œå…¨çµ±ä¸€ã‚„ï¼
   ========================================= */
.btn-base {
    display: inline-block;
    padding: 12px 40px;       /* æ¨ªå¹…ã‚’åºƒã‚ã«çµ±ä¸€ */
    font-size: 1.2rem;        /* æ–‡å­—ã‚µã‚¤ã‚ºã‚‚çµ±ä¸€ */
    border-radius: 50px;      /* ä¸¸ã£ã“ã */
    text-decoration: none;
    font-weight: bold;
    text-align: center;
    border: none;
    cursor: pointer;
    width: 220px;
    box-sizing: border-box;
}

/* =========================================
   ğŸ° ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ¢ãƒ¼ãƒ‰å…±é€šè¨­å®š (Base)
   ========================================= */
body {
    background-color: #f0f8ff;
    color: #333;
    font-family: 'Helvetica Neue', Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", sans-serif;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
}

a { text-decoration: none; }

/* å…±é€šã‚³ãƒ³ãƒ†ãƒŠï¼ˆä¸­å¤®å¯„ã›ç”¨ï¼‰ */
.container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

/* =========================================
   ğŸ§© ãƒªã‚¹ãƒˆç”»é¢ (List)
   ========================================= */
.casual-header {
    text-align: center;
    margin-bottom: 40px;
    padding-top: 20px;
}

.casual-title {
    color: #ff9900;
    font-size: 2.5rem;
    text-shadow: 2px 2px 0 #fff;
    margin-bottom: 10px;
}

.mission-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.mission-card {
    background: white;
    width: 250px;
    padding: 20px;
    border-radius: 15px;
    border: 2px solid #ddd;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    transition: transform 0.2s, border-color 0.2s;
    text-decoration: none;
    color: #333;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.mission-card:hover {
    border-color: #ff9900;
}

.level-badge {
    background: #eee;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
    margin-bottom: 10px;
    color: #666;
}

.question-text {
    font-weight: bold;
    font-size: 1.1rem;
    text-align: center;
    margin-bottom: 15px;
}

.btn-back {
    display: inline-block;
    margin-top: 30px;
    color: #666;
    transition: color 0.2s;
}
.btn-back:hover { 
    color: #ff9900; 
}

.back-to-top {
    text-align: center
}

.next-page-flow {
    margin-top:auto; 
    color:#ff9900;
    font-size:2rem;
}

/* =========================================
   ğŸ¤” ã‚¯ã‚¤ã‚ºç”»é¢ (Quiz)
   ========================================= */
.quiz-card {
    background: white;
    max-width: 680px;
    margin: 30px auto;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    border: 3px solid #ff9900;
    text-align: center;
}

.level-label {
    background: #ff9900;
    color: white;
    padding: 5px 15px;
    border-radius: 50px;
    font-weight: bold;
    display: inline-block;
    margin-bottom: 20px;
}

.question-box {
    font-size: 1.5rem;
    margin: 20px 0 40px;
    font-weight: bold;
    line-height: 1.4;
}

/* é¸æŠè‚¢ãƒœã‚¿ãƒ³ */
.choice-grid {
    display: grid;
    gap: 15px;
    margin-top: 20px;
}

.choice-btn {
    background: #f9f9f9;
    border: 2px solid #ddd;
    padding: 15px;
    border-radius: 10px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.2s;
    width: 100%;
    text-align: left;
    color: #333;
}

.choice-btn:hover {
    background: #fff5e6;
    border-color: #ff9900;
}

/* ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ */
.input-area {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
}

.casual-input {
    padding: 15px;
    width: 80%;
    max-width: 300px;
    border: 2px solid #ddd;
    border-radius: 10px;
    font-size: 1.2rem;
    outline: none;
    transition: 0.3s;
}

.casual-input:focus {
    border-color: #ff9900;
    box-shadow: 0 0 8px rgba(255,153,0,0.3);
}

/* â–¼â–¼â–¼ ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ (select) ã®ãƒ‡ã‚¶ã‚¤ãƒ³ â–¼â–¼â–¼ */
.form-select {
    width: 100%;             /* æ¨ªå¹…ã„ã£ã±ã„ */
    padding: 15px;           /* ä¸­ã®ä½™ç™½ã‚’åºƒã’ã¦æŠ¼ã—ã‚„ã™ã */
    font-size: 1.1em;        /* æ–‡å­—ã‚µã‚¤ã‚ºãŠã£ãã */
    border: 2px solid #ddd;  /* æ ç·šã‚’å¤ªã‚ã« */
    border-radius: 10px;     /* è§’ä¸¸ã«ã™ã‚‹ */
    background-color: #fff;  /* èƒŒæ™¯ã¯ç™½ */
    cursor: pointer;         /* ã‚«ãƒ¼ã‚½ãƒ«ã‚’æŒ‡ã« */
    appearance: none;        /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®çŸ¢å°ã‚’æ¶ˆã™ï¼ˆãƒ¢ãƒ€ãƒ³ãªãƒ–ãƒ©ã‚¦ã‚¶ç”¨ï¼‰ */
    /* â†“ ã‚«ã‚¹ã‚¿ãƒ çŸ¢å°ï¼ˆå³ç«¯ã«â–¼ã‚’è¡¨ç¤ºã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼‰ */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 1.5em;
}

/* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ï¼ˆæŠ¼ã—ãŸæ™‚ï¼‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
.form-select:focus {
    outline: none;
    border-color: #0d6efd;   /* é’æ ã«ã™ã‚‹ */
    box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.25); /* ãµã‚ã£ã¨é’ãå…‰ã‚‰ã›ã‚‹ */
}

/* å…¥åŠ›æ¬„ï¼ˆtextï¼‰ã‚‚ã¤ã„ã§ã«åˆã‚ã›ã¨ã“ã‹ */
.form-input {
    width: 100%;
    padding: 15px;
    font-size: 1.1em;
    border: 2px solid #ddd;
    border-radius: 10px;
    box-sizing: border-box; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å«ã‚ãŸå¹…è¨ˆç®— */
}
.form-input:focus {
    outline: none;
    border-color: #0d6efd;
}

/* â–¼â–¼â–¼ 50éŸ³è¡¨ã®èª¬æ˜æ–‡ç”¨ â–¼â–¼â–¼ */
.instruction-title {
    margin: 0;
    font-weight: bold;
}

.instruction-desc {
    margin: 5px 0;
}

.instruction-example {
    margin: 0;
    font-size: 0.9em;
    color: #555;
}

/* â–¼â–¼â–¼ 50éŸ³è¡¨ (gojuon) ã®ã‚¹ã‚¿ã‚¤ãƒ« â–¼â–¼â–¼ */
.gojuon-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 0.9em;
    background-color: #fff;
    text-align: center;
}

.gojuon-table th, .gojuon-table td {
    border: 1px solid #ccc;
    padding: 8px 4px; /* ã‚¹ãƒãƒ›ç”¨ã«å°‘ã—è©°ã‚æ°—å‘³ã« */
}

.gojuon-table th {
    background-color: #f0f0f0;
    color: #333;
    font-weight: bold;
}

.gojuon-table .row-header {
    background-color: #e9ecef;
    font-weight: bold;
    width: 15%;
}

.gojuon-instruction {
    background-color: #e8f4fd;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border-left: 5px solid #0d6efd;
    text-align: left;
}

/* â–¼â–¼â–¼ æ–‡å­—ã‚’ä¸¸ã§å›²ã‚€ã‚¯ãƒ©ã‚¹ â–¼â–¼â–¼ */
.circled-text {
    display: inline-block;    /* å¹…ã‚„é«˜ã•ã‚’åŠ¹ã‹ã›ã‚‹ãŸã‚ */
    border: 3px solid #dc3545; /* èµ¤ãã¦å¤ªã„æ ç·š */
    border-radius: 50%;       /* æ ã‚’å®Œå…¨ãªä¸¸ã«ã™ã‚‹ */
    padding: 4px 8px;         /* æ–‡å­—ã¨æ ã®é–“ã®ä½™ç™½ï¼ˆå¾®èª¿æ•´ã—ã¦ãªï¼‰ */
    color: #dc3545;           /* æ–‡å­—è‰²ã‚‚èµ¤ã«ã™ã‚‹ */
    font-weight: bold;
    line-height: 1;           /* ä¸Šä¸‹ã®ã‚ºãƒ¬ã‚’é˜²ã */
}

/* â–¼â–¼â–¼ çˆ†é€Ÿç§»å‹•ã‚®ãƒŸãƒƒã‚¯ (moving) â–¼â–¼â–¼ */
.moving-section {
    text-align: center;
    margin-bottom: 20px;
}

.moving-container {
    position: relative;
    height: 250px; /* å‹•ãå›ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åºƒã• */
    border: 3px dashed #bbb;
    background-color: #f0f8ff;
    border-radius: 12px;
    overflow: hidden;
    margin-top: 10px;
}

.moving-target {
    position: absolute;
    width: 60%;
    left: 20%; /* ä¸­å¤®å¯„ã›ã®åŸºæº– */
    /* 2ç§’ã§ä¸€å‘¨ã€ç„¡é™ãƒ«ãƒ¼ãƒ—ã€ä¸€å®šé€Ÿåº¦ */
    animation: runAround 0.5s infinite linear;
    z-index: 10;
}

/* â–¼â–¼â–¼ å…¨æ–¹å‘ã‚ã‚Šè¾¼ã¿çˆ†èµ°ãƒ¢ãƒ¼ãƒ‰ â–¼â–¼â–¼ */
@keyframes runAround {
    /* translateX ã®æ•°å€¤ã‚’ % æŒ‡å®šã«å¤‰æ›´ã—ãŸã§ï¼
       è¦ç´ ã®å¹…(60%)ã«å¯¾ã—ã¦ã®ç§»å‹•é‡ã‚„ã‹ã‚‰ã€
       60% ä»¥ä¸Šå‹•ã‹ã™ã¨ã‚¬ãƒƒãƒ„ãƒªã¯ã¿å‡ºã™è¨ˆç®—ã‚„ã€‚
    */

    /* --- ä¸Šã«ã‚ã‚Šè¾¼ã‚€ --- */
    0%   { top: -30%; transform: translateX(0) rotate(0deg); }
    
    /* --- å³ã«ã‚ã‚Šè¾¼ã‚€ --- */
    /* å³ã¸70%ç§»å‹•ï¼ˆæ ã‚’çªãç ´ã‚‹å‹¢ã„ï¼‰ */
    25%  { top: 70%;  transform: translateX(70%) rotate(10deg); }
    
    /* --- ä¸‹ã«ã‚ã‚Šè¾¼ã‚€ --- */
    /* ä¸‹ã¸110%ï¼ˆå®Œå…¨ã«éš ã‚Œã‚“ç¨‹åº¦ã«é ­ã ã‘å‡ºã™æ„Ÿã˜ï¼‰ */
    50%  { top: 90%;  transform: translateX(0) rotate(180deg); }
    
    /* --- å·¦ã«ã‚ã‚Šè¾¼ã‚€ --- */
    /* å·¦ã¸-70%ç§»å‹• */
    75%  { top: 70%;  transform: translateX(-70%) rotate(-10deg); }
    
    /* --- ä¸Šã«æˆ»ã‚‹ --- */
    100% { top: -30%; transform: translateX(0) rotate(360deg); }
}
/* åœæ­¢ç”¨ã‚¯ãƒ©ã‚¹ */
.paused {
    animation-play-state: paused !important;
    border: 3px solid #dc3545; /* æ­¢ã¾ã£ãŸã‚‰èµ¤æ ã§å¼·èª¿ */
    box-shadow: 0 0 10px rgba(220, 53, 69, 0.5);
}

/* åœæ­¢ãƒœã‚¿ãƒ³ç”¨ */
.btn-stop-animation {
    width: 100%;
    font-weight: bold;
    margin-bottom: 10px;
}

/* å‹•ãå›ã‚‹ãƒ•ã‚©ãƒ¼ãƒ ã®è¦‹ãŸç›® */
.moving-form-card {
    background: white;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #999;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

/* ãƒ•ã‚©ãƒ¼ãƒ å†…ã®ãƒ©ãƒ™ãƒ« */
.moving-form-label {
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
}

/* ãƒ•ã‚©ãƒ¼ãƒ å†…ã®é€ä¿¡ãƒœã‚¿ãƒ³ */
.btn-moving-submit {
    margin-top: 10px;
    width: 100%;
}

/* â–¼â–¼â–¼ ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ & é›»çƒã‚®ãƒŸãƒƒã‚¯ (Q7ç”¨) â–¼â–¼â–¼ */
.toggle-status {
    font-size: 1.2rem;
    color:#666;
}

.toggle-section {
    text-align: center;
    padding: 20px;
}

/* é›»çƒã‚¢ã‚¤ã‚³ãƒ³ï¼ˆæœ€åˆã¯æš—ã„ãƒ»ã‚°ãƒ¬ãƒ¼ã«ã™ã‚‹ï¼‰ */
.light-bulb {
    font-size: 80px;
    margin-bottom: 20px;
    transition: all 0.3s; /* è‰²ã‚‚ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚‚ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    
    /* â˜…ã“ã“ãŒé‡è¦ï¼å¼·åˆ¶çš„ã«ã‚°ãƒ¬ãƒ¼ã«ã—ã¦ã€ã¡ã‚‡ã£ã¨è–„ãã™ã‚‹ */
    filter: grayscale(100%);
    opacity: 0.2; 
}

/* ç‚¹ç¯æ™‚ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå…ƒã®è‰²ã«æˆ»ã™ãƒ»å…‰ã‚‰ã›ã‚‹ï¼‰ */
.light-bulb.on {
    /* â˜…ã‚°ãƒ¬ãƒ¼ã‚’è§£é™¤ã—ã¦ã€ä¸é€æ˜ã«æˆ»ã™ */
    filter: grayscale(0%);
    opacity: 1;
    
    /* å…‰ã®è¡¨ç¾ */
    text-shadow: 0 0 30px #ffeb3b, 0 0 60px orange;
}

/* ã‚¹ã‚¤ãƒƒãƒã®ã‚³ãƒ³ãƒ†ãƒŠ */
.switch-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}

/* --- ã‚¹ã‚¤ãƒƒãƒæœ¬ä½“ã®ãƒ‡ã‚¶ã‚¤ãƒ³ (Checkbox Hack) --- */
.switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
}

.switch input { 
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

/* ãƒã‚§ãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å¤‰åŒ– */
input:checked + .slider {
    background-color: #2196F3;
}

input:checked + .slider:before {
    transform: translateX(26px);
}

/* â–¼â–¼â–¼ ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã‚¨ãƒªã‚¢ã®èƒŒæ™¯æ¼”å‡º â–¼â–¼â–¼ */
.toggle-section {
    text-align: center;
    padding: 30px;
    border-radius: 15px; /* è§’ä¸¸ã«ã—ã¦éƒ¨å±‹ã£ã½ã */
    
    /* èƒŒæ™¯è‰²ã¨æ–‡å­—è‰²ãŒã˜ã‚ã£ã¨å¤‰ã‚ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    transition: background-color 0.5s ease, color 0.5s ease;
}

/* ãƒ¬ãƒ™ãƒ«0: çœŸã£æš—ï¼ˆåˆæœŸçŠ¶æ…‹ï¼‰ */
.toggle-section[data-brightness="0"] {
    background-color: #222; /* ã»ã¼é»’ */
    color: #888;            /* æ–‡å­—ã¯è–„æš—ã */
}

/* ãƒ¬ãƒ™ãƒ«1: ã¡ã‚‡ã£ã¨è¦‹ãˆã¦ããŸ */
.toggle-section[data-brightness="1"] {
    background-color: #444; /* ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼ */
    color: #aaa;
}

/* ãƒ¬ãƒ™ãƒ«2: ã ã„ã¶æ˜ã‚‹ã„ */
.toggle-section[data-brightness="2"] {
    background-color: #777; /* ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼ */
    color: #fff;
}

/* ãƒ¬ãƒ™ãƒ«3: å…¨ç‚¹ç¯ï¼ˆæ˜ã‚‹ã„éƒ¨å±‹ï¼‰ */
.toggle-section[data-brightness="3"] {
    background-color: #fff9c4; /* è–„ã„é»„è‰²ï¼ˆæ˜ã‹ã‚ŠãŒã¤ã„ãŸè‰²ï¼‰ */
    color: #333;               /* æ–‡å­—ã¯é»’ããƒãƒƒã‚­ãƒª */
    box-shadow: 0 0 20px rgba(255, 235, 59, 0.5); /* å…¨ä½“ãŒå…‰ã£ã¦ã‚‹æ„Ÿ */
}

/* â–¼â–¼â–¼ ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ä½¿ã£ãŸæ¼”å‡ºã«å¤‰æ›´ â–¼â–¼â–¼ */

/* bodyè‡ªä½“ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š */
body {
    transition: background-color 0.8s ease, color 0.5s ease;
}

/* ãƒ¬ãƒ™ãƒ«0: çœŸã£æš—ï¼ˆåˆæœŸçŠ¶æ…‹ï¼‰ */
body[data-brightness="0"] {
    background-color: #121212; /* æ¼†é»’ */
    color: #555;               /* æ–‡å­—ã¯ã‹ãªã‚Šè¦‹ãˆã«ãã */
}

/* ãƒ¬ãƒ™ãƒ«1: ã†ã£ã™ã‚‰ */
body[data-brightness="1"] {
    background-color: #333;
    color: #888;
}

/* ãƒ¬ãƒ™ãƒ«2: ã¾ã‚ã¾ã‚è¦‹ãˆã‚‹ */
body[data-brightness="2"] {
    background-color: #666;
    color: #ddd;
}

/* ãƒ¬ãƒ™ãƒ«3: å…¨ç‚¹ç¯ï¼ˆã„ã¤ã‚‚ã®ç™½èƒŒæ™¯ã«æˆ»ã™ï¼‰ */
body[data-brightness="3"] {
    background-color: #fff; /* é€šå¸¸æ™‚ã®è‰² */
    color: #212529;         /* é€šå¸¸æ™‚ã®æ–‡å­—è‰² */
}

/* â€»å…ƒã€…ã® .toggle-section ã®è‰²ã¯æ¶ˆã—ã¦ã€é€æ˜ã«ã—ã¨ãã®ãŒãŠã™ã™ã‚ */
.toggle-section {
    text-align: center;
    padding: 30px;
    background-color: transparent; /* èƒŒæ™¯é€æ˜ã« */
}

/* å…±é€šè¨­å®šï¼šå¤‰åŒ–ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã•ã›ã‚‹ */
.toggle-section {
    transition: background-color 0.5s ease, border-color 0.5s ease;
}

/* â–¼â–¼â–¼ ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ç”¨ï¼šæš—é—‡é€£å‹•è¨­å®š â–¼â–¼â–¼ */

/* ã¾ãšã¯å¤‰åŒ–ãŒãƒ•ãƒ¯ãƒƒã¨ãªã‚‹ã‚ˆã†ã«è¨­å®š */
.quiz-card, .toggle-section, .level-label, .question-box {
    transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease;
}

/* === ãƒ¬ãƒ™ãƒ«0: çœŸã£æš—ï¼ˆã»ã¼è¦‹ãˆã‚“ï¼‰ === */
/* ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§ã€Œã‚ã‚Œã‚‚ã€ã“ã‚Œã‚‚ã€ä¸€æ‹¬æŒ‡å®šã‚„ */
body[data-brightness="0"] .quiz-card,
body[data-brightness="0"] .toggle-section,
body[data-brightness="0"] .level-label,
body[data-brightness="0"] .question-box,
body[data-brightness="0"] .casual-input, 
body[data-brightness="0"] .btn-base {
    background-color: #222 !important; /* æš—ã„ã‚°ãƒ¬ãƒ¼ */
    color: #555 !important;            /* æ–‡å­—ã‚‚æ²ˆã¾ã›ã‚‹ */
    border-color: #444 !important;     /* æ ç·šã‚‚ç›®ç«‹ãŸãªã */
}

/* === ãƒ¬ãƒ™ãƒ«1: ã†ã£ã™ã‚‰ === */
body[data-brightness="1"] .quiz-card,
body[data-brightness="1"] .toggle-section,
body[data-brightness="1"] .level-label,
body[data-brightness="1"] .question-box,
body[data-brightness="1"] .casual-input {
    background-color: #444 !important;
    color: #888 !important;
    border-color: #666 !important;
}

/* === ãƒ¬ãƒ™ãƒ«2: ã¾ã‚ã¾ã‚è¦‹ãˆã‚‹ === */
body[data-brightness="2"] .quiz-card,
body[data-brightness="2"] .toggle-section,
body[data-brightness="2"] .level-label,
body[data-brightness="2"] .question-box,
body[data-brightness="2"] .casual-input {
    background-color: #777 !important;
    color: #ddd !important;
    border-color: #999 !important;
}

/* === ãƒ¬ãƒ™ãƒ«3: å…¨ç‚¹ç¯ï¼ˆå…ƒã«æˆ»ã™ï¼‰ === */
body[data-brightness="3"] .quiz-card,
body[data-brightness="3"] .toggle-section,
body[data-brightness="3"] .level-label,
body[data-brightness="3"] .question-box,
body[data-brightness="3"] .casual-input {
    /* ã“ã“ã¯ !important ç„¡ã—ã§ã€å…ƒã®CSSæŒ‡å®šã«æˆ»ã‚‹ã‚ˆã†ã«ã™ã‚‹ */
    /* ã‚‚ã—æˆ»ã‚‰ã‚“ã‹ã£ãŸã‚‰ background-color: white !important; ã¨ã‹æ›¸ã„ã¦ãª */
    background-color: #fff !important; 
    color: #333 !important;
    border-color: #ddd !important; /* å…ƒã®æ ç·šã®è‰²ã«åˆã‚ã›ã¦ãª */
}

/* é€ä¿¡ãƒœã‚¿ãƒ³ã ã‘ç‰¹åˆ¥æ‰±ã„ */
body[data-brightness="1"] .btn-base {
    background-color: #804d00 !important; /* é€ä¿¡ãƒœã‚¿ãƒ³ã®å…ƒè‰²ã«æˆ»ã™ */
    color: white !important;
}

body[data-brightness="2"] .btn-base {
    background-color: #cc7a00 !important; /* é€ä¿¡ãƒœã‚¿ãƒ³ã®å…ƒè‰²ã«æˆ»ã™ */
    color: white !important;
}

body[data-brightness="3"] .btn-base {
    background-color: #ff9900 !important; /* é€ä¿¡ãƒœã‚¿ãƒ³ã®å…ƒè‰²ã«æˆ»ã™ */
    color: white !important;
}

/* =========================================
    ğŸ”‹ é•·æŠ¼ã—ãƒãƒ£ãƒ¼ã‚¸ (Q12 é•·æŠ¼ã—ãƒãƒ£ãƒ¼ã‚¸æ¼”å‡º)
   ========================================= */

.charge-section {
    margin-top: 20px;
    padding: 20px;
}

/* ãƒãƒ¼ã®æ ï¼ˆèƒŒæ™¯ï¼‰ */
.charge-container {
    height: 30px;
    background-color: #333;
    border-radius: 15px; /* è§’ä¸¸ã«ã—ã¦ã¡ã‚‡ã£ã¨ãƒªãƒƒãƒã« */
    overflow: hidden;
}

/* ãƒãƒ¼ã®ä¸­èº«ï¼ˆä¼¸ã³ã‚‹éƒ¨åˆ†ï¼‰ */
.charge-bar {
    width: 0%;           /* æœ€åˆã¯0% */
    background-color: #dc3545; /* æœ€åˆã¯èµ¤è‰² (Bootstrapã®dangerè‰²) */
    transition: none;    /* JSã§ç´°ã‹ãåˆ¶å¾¡ã™ã‚‹ã‹ã‚‰CSSã‚¢ãƒ‹ãƒ¡ã¯åˆ‡ã‚‹ */
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* ãƒãƒ£ãƒ¼ã‚¸ä¸­ã®ãƒ–ãƒ«ãƒ–ãƒ«éœ‡ãˆã‚‹æ¼”å‡º */
.charging {
    box-shadow: 0 0 15px #f44336;
    animation: shake 0.1s infinite;
}

/* æº€ã‚¿ãƒ³ã«ãªã£ãŸæ™‚ã®æ¼”å‡º */
.charged-full {
    background-color: #00e676 !important; /* ç·‘è‰²ã«å¤‰åŒ– */
    box-shadow: 0 0 30px #00e676;
    width: 100% !important;
}

/* ãƒ–ãƒ«ãƒ–ãƒ«éœ‡ãˆã‚‹ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ  */
@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}

/* =========================================
   ğŸ’¡ Light Bulb Puzzle (Q14 é›»çƒãƒ‘ã‚ºãƒ«) - ã‚¬ãƒç™ºå…‰ver
   ========================================= */

/* é›»çƒã‚’åã‚ã‚‹ãƒœãƒƒã‚¯ã‚¹ï¼ˆæš—ãã—ã¦å…‰ã‚’ç›®ç«‹ãŸã›ã‚‹ï¼‰ */
.light-bulb-container {
    background: #222; /* é»’ã«è¿‘ã„ã‚°ãƒ¬ãƒ¼ */
    padding: 30px 50px;
    border-radius: 20px;
    display: inline-flex;
    gap: 40px; /* é›»çƒã®é–“éš”ã‚’åºƒã‚ã« */
    box-shadow: 
        inset 0 0 30px #000, /* å†…å´ã®å½± */
        0 5px 15px rgba(0,0,0,0.5); /* å¤–å´ã®å½± */
    border: 1px solid #444;
}

/* é›»çƒã‚¢ã‚¤ã‚³ãƒ³ï¼ˆOFFã®çŠ¶æ…‹ï¼‰ */
.light-bulb-btn {
    font-size: 3.5rem; /* ã‹ãªã‚Šå¤§ãã */
    color: #444;       /* æ¶ˆãˆã¦ã‚‹æ™‚ã¯æš—ã„è‰² */
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* ãƒãƒ³ãƒƒã¨å¼¾ã‚€ã‚ˆã†ãªå‹•ã */
    
    /* æ¶ˆãˆã¦ã‚‹æ™‚ã‚‚å°‘ã—ç«‹ä½“æ„Ÿ */
    text-shadow: 0 2px 5px rgba(0,0,0,0.5);
}

/* ãƒ›ãƒãƒ¼ã—ãŸæ™‚ */
.light-bulb-btn:hover {
    transform: scale(1.1); /* ã¡ã‚‡ã£ã¨å¤§ãã */
    color: #666;
}

/* ONã®çŠ¶æ…‹ï¼ˆã“ã“ãŒé­”æ³•ï¼ï¼‰ */
.light-bulb-btn.on {
    color: #fff; /* ä¸­å¿ƒã¯ç™½ãï¼ˆãƒ•ã‚£ãƒ©ãƒ¡ãƒ³ãƒˆã®ç†±ï¼‰ */
    transform: scale(1.1);
    
    /* 3é‡ã®å…‰ã§ãƒœãƒ¯ãƒƒã¨ã•ã›ã‚‹ */
    text-shadow: 
        0 0 10px #ffeb3b,   /* å†…å´ã®å¼·ã„å…‰ */
        0 0 20px #ffeb3b,   /* ä¸­é–“ã®å…‰ */
        0 0 40px #ff9800,   /* å¤–å´ã®ã‚ªãƒ¬ãƒ³ã‚¸ã£ã½ã„å…‰ */
        0 0 80px #ff5722;   /* é ãã¾ã§å±Šãèµ¤ã„å…‰ */
        
    /* ã»ã‚“ã®å°‘ã—ä¸Šã«æµ®ã‹ã™ */
    transform: translateY(-5px) scale(1.1);
}

/* =========================================
   ğŸ’¡ é›»çƒãƒ‘ã‚ºãƒ«ã®å•é¡Œæ–‡ (Sequence Display)
   ========================================= */
.question-sequence .bi {
    font-size: 2.5rem; /* ã¡ã‚‡ã£ã¨å¤§ãã‚ã« */
    color: #333;     /* ã‚¤ãƒ³ã‚¯ã£ã½ã„é»’ */
    margin: 0 3px;   /* é›»çƒåŒå£«ã®é–“éš” */
}

/* ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã®åŒºåˆ‡ã‚Šã‚’è¦‹ã‚„ã™ã */
.seq-item {
    background: #f8f9fa; /* ã†ã£ã™ã‚‰èƒŒæ™¯ */
    padding: 10px 15px;
    border-radius: 10px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* =========================================
   âŒ¨ï¸ Keyboard Puzzle (Q15 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰)
   ========================================= */
.keyboard-layout {
    display: inline-flex;
    flex-direction: column;
    gap: 5px;
    background: #e0e0e0; /* ãƒ™ãƒ¼ã‚¹ã®è‰² */
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

.kb-row {
    display: flex;
    gap: 4px;
}

/* é€šå¸¸ã‚­ãƒ¼ */
.kb-key {
    width: 32px;
    height: 32px;
    border: 1px solid #999;
    border-radius: 4px;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #444;
    font-size: 0.9rem;
    box-shadow: 0 2px 0 #bbb; /* ã‚­ãƒ¼ã®åšã¿ */
}

/* ç‰¹æ®Šã‚­ãƒ¼ï¼ˆTab, Shiftãªã©ï¼‰ */
.kb-key.kb-special {
    background: #f0f0f0;
    font-size: 0.7rem;
    color: #666;
}

/* ç­”ãˆã®ã‚­ãƒ¼ */
.kb-key.target-key {
    border: 2px solid #333;
    background: #fff9c4; /* è–„ã„é»„è‰²ã§å¼·èª¿ */
    color: #000;
}

/* å„ã‚­ãƒ¼ã®å¹…èª¿æ•´ */
.kb-backspace { width: 55px; }
.kb-tab       { width: 50px; }
.kb-caps      { width: 60px; }
.kb-shift     { width: 75px; }
.kb-enter-top { width: 45px; border-bottom-left-radius: 0; border-bottom: none; z-index: 2; height: 36px; margin-bottom: -4px;} /* Enterå¤‰å½¢ç”¨ï¼ˆç°¡æ˜“ç‰ˆï¼‰ */
.kb-enter-bottom { width: 58px; border-top-right-radius: 0; margin-left: -13px; z-index: 1;}
.kb-ctrl, .kb-alt { width: 45px; }
.kb-space     { width: 200px; }

/* ã‚¹ãƒãƒ›å¯¾å¿œ */
@media (max-width: 500px) {
    .keyboard-layout { transform: scale(0.75); transform-origin: top center; }
}

/* =========================================
   ğŸ”¢ Shortcut Puzzle (Q16 ä¸¸æ•°å­—) - å¤§å‹åŒ–
   ========================================= */
.ctrl-box {
    width: 200px;       /* 80px -> 110px ã«æ‹¡å¤§ */
    height: 75px;       /* 55px -> 75px ã«æ‹¡å¤§ */
    background: #fff;
    border: 3px solid #333; /* æ ç·šã‚‚å°‘ã—å¤ªã */
    border-radius: 10px;
    box-shadow: 4px 4px 0 #ccc;
    display: flex;             /* Flexboxæœ‰åŠ¹åŒ– */
    justify-content: center;   /* å·¦å³ä¸­å¤®æƒãˆ */
    align-items: center;
    margin-right: 15px;
}

/* ä¸¸æ•°å­—ï¼ˆé€šå¸¸ï¼‰ */
.circle-num {
    width: 50px;        /* 35px -> 50px */
    height: 50px;       /* 35px -> 50px */
    border: 3px solid #333; /* æ ã‚‚å¤ªã */
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-family: "Noto Sans JP", sans-serif;
    background: #fff;
    font-size: 1.5rem;  /* æ–‡å­—ã‚µã‚¤ã‚ºUP */
    
}

/* ç­”ãˆå…¥åŠ›ç”¨ã®ã•ã‚‰ã«å¤§ãã„ä¸¸æ•°å­— */
.circle-num.large {
    width: 60px;        /* 45px -> 60px */
    height: 60px;       /* 45px -> 60px */
    font-size: 1.8rem;  /* æ–‡å­—ã‚µã‚¤ã‚ºUP */
    background: #fff9c4;
}

/* ãƒ¡ã‚¤ãƒ³ã®æ•°å­—ã€Œ3ã€ */
.ctrl-box .main-num {
    font-size: 2rem;  /* æ–‡å­—ã‚‚å¤§ãã */
    font-weight: 900;
    line-height: 1;
    color: #222;
}

/* æŠ¼ã—ãŸæ„Ÿã˜ã®æ¼”å‡ºï¼ˆãŠã¾ã‘ï¼‰ */
.ctrl-box:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0 #ccc;
}

/* ============================= */
/* ğŸªœ éšæ®µãƒ‘ã‚ºãƒ« (Stairs)      */
/* ============================= */

/* 1. å¤–å´ã®æ ï¼ˆä½ç½®èª¿æ•´ç”¨ï¼‰ */
.stairs-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 40px 0;
    width: 100%;
}

/* 2. éšæ®µæœ¬ä½“ï¼ˆæ®µå·®ã‚’ä½œã‚‹ç”¨ï¼‰ */
.stairs-container {
    display: flex;
    align-items: flex-end; /* â˜…ã“ã“ãŒé‡è¦ï¼ä¸‹æƒãˆ */
    gap: 0;
    padding-top: 20px;
}

/* 3. å„ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
.step {
    box-sizing: border-box;
    width: 60px;
    height: calc(40px * var(--i)); /* å¤‰æ•°ã§é«˜ã•ã‚’è¨ˆç®— */
    
    background-color: #f1c40f;
    border: 2px solid #333;
    border-right: none;
    
    display: flex;
    justify-content: center;
    align-items: center;
    
    font-weight: 900;
    font-size: 1.5rem;
    color: #333;
    cursor: pointer;
    transition: all 0.2s;
}

/* æœ€å¾Œã®æ®µã ã‘å³ã®ç·šã‚’æ›¸ã */
.step:last-child {
    border-right: 2px solid #333;
}

/* ãƒ›ãƒãƒ¼æ™‚ */
.step:hover {
    background-color: #f39c12;
    transform: translateY(-2px);
}

/* é¸æŠæ™‚ï¼ˆèµ¤ããªã‚‹ï¼‰ */
.step.selected {
    background-color: #e74c3c !important;
    color: white;
}

/* ============================= */
/* ğŸšï¸ ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãƒ‘ã‚ºãƒ« (Slider) */
/* ============================= */

/* å…¨ä½“ã®æ ï¼šä¸Šä¸‹ã«éš™é–“ã‚’ã‚ã‘ã‚‹ */
.slider-wrapper {
    width: 100%;
    text-align: center;
    margin: 40px 0;
    padding-bottom: 20px;
}

/* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å…¥ã‚‹ç®± */
.slider-container {
    width: 80%;
    max-width: 400px;
    margin: 0 auto; /* ä¸­å¤®å¯„ã› */
    padding: 10px;
}

/* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®æ£’ï¼ˆãƒ¬ãƒ¼ãƒ«ï¼‰ */
.slider-range {
    -webkit-appearance: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¶ˆå» */
    appearance: none;
    width: 100%;
    height: 10px;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    cursor: pointer;
    transition: background .2s;
}

.slider-range:hover {
    background: #babbbc;
}

/* ã¤ã¾ã¿ (Chrome/Safari/Edgeç”¨) */
.slider-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #e74c3c; /* ã“ã“ã§èµ¤ãã—ã¦ã‚‹ï¼ */
    cursor: pointer;
    box-shadow: 0 0 5px rgba(0,0,0,0.3);
}

/* ã¤ã¾ã¿ (Firefoxç”¨) */
.slider-range::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #e74c3c;
    cursor: pointer;
    border: none;
}

/* ãƒ†ã‚­ã‚¹ãƒˆå‘¨ã‚Š */
.slider-text {
    font-size: 1.5rem;
    font-weight: bold;
    margin-top: 15px;
    color: #333;
}

.slider-number {
    color: #e74c3c; /* æ•°å­—ã‚‚èµ¤ã */
}

/* ========================
   é€ä¿¡ãƒœã‚¿ãƒ³ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰
   ======================== */
.btn-submit {
    margin-top: 30px;
    background-color: #ff9900;
    color: white;
}

/* ãƒ›ãƒãƒ¼æ™‚ï¼šã¡ã‚‡ã£ã¨æ¿ƒãã—ã¦ã€ŒæŠ¼ã›ã‚‹æ„Ÿã€ã‚’å‡ºã™ */
.btn-submit:hover {
    background-color: #e68a00; 
}

/* =========================================
   ğŸ‰ çµæœç”»é¢ (Result)
   ========================================= */
.result-card {
    background: white;
    max-width: 500px;
    margin: 50px auto;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    text-align: center;
}

.result-icon {
    font-size: 5rem;
    display: inline-block;
    /* 0.6ç§’ã‹ã‘ã¦ã€ã¡ã‚‡ã£ã¨å¼¾ã‚€ã‚ˆã†ãªå‹•ãã§å‡ºç¾ */
    animation: popUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;
}

@keyframes popUp {
    0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

/* æ–‡å­—ã‚‚ã¡ã‚‡ã£ã¨é…ã‚Œã¦ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã•ã›ã‚‹ã¨ã‚ªã‚·ãƒ£ãƒ¬ */
.success-msg, .result-message p {
    animation: fadeInUp 0.8s ease-out 0.3s both; /* 0.3ç§’é…ã‚Œã§é–‹å§‹ */
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ğŸ”´ ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ï¼ˆèµ¤è‰²ï¼‰ */
.btn-retry {
    background-color: #ff4d4d;
    color: white;
    margin-top: 20px;
}

.btn-retry:hover {
    background: #ff6666; /* ãƒ›ãƒãƒ¼ã§ã¡ã‚‡ã£ã¨æ˜ã‚‹ã */
}

.return-list {
    margin-top: 30px;
    color : #999;
}

.return-list:hover {
    color : #BBB;
}

.navigation-links {
    margin-top: 30px;
}

/* ğŸ”µ æ¬¡ã¸é€²ã‚€ãƒœã‚¿ãƒ³ï¼ˆé’è‰²ï¼‰ */
.btn-next {
    background-color: #007bff;
    color: white;
    margin-top: 20px;
}

.btn-next:hover {
    background: #3395ff; /* ãƒ›ãƒãƒ¼ã§ã¡ã‚‡ã£ã¨æ˜ã‚‹ã */
}

/* â–¼â–¼â–¼ ã‚¹ãƒãƒ›å¯¾å¿œç”¨: é•·æŠ¼ã—ã—ã¦ã‚‚ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‡ºã•ãªã„è¨­å®š â–¼â–¼â–¼ */
.key-icon, .mobile-hold-btn {
    -webkit-touch-callout: none; /* iPhoneã§é•·æŠ¼ã—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç¦æ­¢ */
    -webkit-user-select: none;   /* ãƒ†ã‚­ã‚¹ãƒˆé¸æŠç¦æ­¢ */
    user-select: none;
    cursor: pointer;             /* æŒ‡ãƒãƒ¼ã‚¯ */
    touch-action: manipulation;  /* ãƒ€ãƒ–ãƒ«ã‚¿ãƒƒãƒ—æ‹¡å¤§ã¨ã‹ç„¡åŠ¹åŒ– */
}

/* Q12ç”¨ã®ã‚¹ãƒãƒ›ç”¨ãƒœã‚¿ãƒ³ */
.mobile-hold-btn {
    display: inline-block;
    margin-top: 15px;
    padding: 15px 40px;
    background-color: #444;
    color: white;
    border: 2px solid #666;
    border-radius: 50px; /* ä¸¸ã£ã“ã */
    font-weight: bold;
    font-size: 1.2rem;
    box-shadow: 0 4px 0 #222;
    transition: all 0.1s;
}

.mobile-hold-btn:active, .mobile-hold-btn.active {
    transform: translateY(4px);
    box-shadow: none;
    background-color: #dc3545; /* æŠ¼ã—ãŸã‚‰èµ¤ã */
    border-color: #dc3545;
}

/* â–¼â–¼â–¼ Q13: 2ã‚­ãƒ¼åŒæ™‚é•·æŠ¼ã— (KAN-27) â–¼â–¼â–¼ */

.key-visuals {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    font-family: monospace;
}

/* ã‚­ãƒ¼ã®è¦‹ãŸç›® */
.key-icon {
    display: inline-block;
    padding: 10px 20px;
    border: 2px solid #555;
    border-radius: 8px;
    background-color: #222;
    color: #888;
    font-size: 1.5rem;
    font-weight: bold;
    box-shadow: 0 4px 0 #000;
    transition: all 0.1s;
}

.key-enter {
    padding: 10px 30px; /* Enterã¯ã¡ã‚‡ã£ã¨æ¨ªé•· */
}

/* æŠ¼ã•ã‚ŒãŸæ™‚ã®è¦‹ãŸç›® */
.key-active {
    background-color: #00bcd4; /* ã‚µã‚¤ãƒãƒ¼ãƒ–ãƒ«ãƒ¼ */
    color: #fff;
    border-color: #00bcd4;
    box-shadow: 0 0 15px #00bcd4; /* å…‰ã‚‰ã›ã‚‹ */
    transform: translateY(4px);    /* æ²ˆã¿è¾¼ã‚€ */
}

/* ã‚²ãƒ¼ã‚¸ã®è‰²ï¼ˆé’ï¼‰ */
.bg-info {
    background-color: #00bcd4 !important;
}