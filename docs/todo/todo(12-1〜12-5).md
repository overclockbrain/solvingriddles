# 12/1週のタスク

## 🥅 ゴール1： サーバー構築とアクセス
- [x] GitHubにリポジトリを作る
- [x] Renderのアカウントを作る（レンタルサーバーより設定が楽やから推奨）
- [x] Hello WorldだけのコードをGitHubにプッシュする
- [x] RenderとGitHubを連携して、Webに表示されるか確認する（これがCI/CDの第一歩や！）

## 🥅 ゴール2： アプリの流れと実装
- [x] 画面遷移図をざっくり描く（mdか手書き写真）
- [x] どんな「謎」を出すか1問だけ考える
- [x] Thymeleafでトップ画面（モック）を作る
- [x] Thymeleafで回答画面（モック）を作る

## 🥅 ゴール3: 謎解き機能の構造化とTDD実践
業務レベルの「3層アーキテクチャ」を導入し、Service層の実装を**TDD（テスト駆動開発）**で行う。

- [x] **Step 1: データの定義 (Model)**
    - [x] `src/main/java/com/example/solvingriddles/model/Riddle.java` を作成
    - [x] 項目: ID, 問題文, 正解, ヒント

- [x] **Step 2: 倉庫番の作成 (Repository)**
    - [x] `src/main/java/com/example/solvingriddles/repository/RiddleRepository.java` を作成
    - [x] `Map` を使って、メモリ上でデータを管理する
    - [x] `findById(int id)` メソッドを用意

- [x] **Step 3: 頭脳の作成 (Service) ★TDDチャレンジ**
    - [x] **テスト作成 (Red):** `src/test/java/.../service/RiddleServiceTest.java` を作成
        - [x] 「正解の文字（"t"）を渡したら `true` が返る」テストを書く
        - [x] 「不正解の文字（"a"）を渡したら `false` が返る」テストを書く
        - [x] 実行して**赤色（失敗）**になることを確認する
    - [x] **実装 (Green):** `RiddleService.java` を作成し、テストが通る最小限のコードを書く
    - [x] **リファクタリング (Refactor):** コードを整理して、もう一度テストを通す

- [x] **Step 4: コントローラーの改修**
    - [x] `MainController` を修正し、作成した `Service` を使うように変更
    - [x] URLを `/quiz/{id}` に対応させる

## 🥅 ゴール4: 画面の共通化とメニュー実装
全画面のレイアウトを統一し、スマホ対応のメニューを作る。

- [x] **Step 1: 共通部品の作成 (Fragments)**
    - [x] `src/main/resources/templates/common/head.html` (CSSなど)
    - [x] `src/main/resources/templates/common/header.html` (ナビバー)
    - [x] `src/main/resources/templates/common/layout.html` (枠組み)

- [x] **Step 2: 各画面への適用**
    - [x] `index.html`, `list.html`, `quiz.html`, `result.html` を修正
    - [x] `th:replace` を使って共通部品を読み込む

- [x] **Step 3: アコーディオンメニューの実装**
    - [x] ハンバーガーボタン（≡）をヘッダーに追加
    - [x] `static/js/script.js` を作成し、クリックでの開閉処理を記述

## 🥅 ゴール4.5: クリック探索型問題の実装
入力欄を使わず、画面上の要素をクリックして解く新しいタイプの謎を追加する。

- [x] **Step 1: データの型拡張 (Model)**
    - [x] `Riddle.java` に `type` フィールド (text/click) を追加
- [x] **Step 2: データ更新 (JSON)**
    - [x] `riddles.json` の既存データに `"type": "text"` を追加
    - [x] 新しいクリック問題 (ID:4) を追加 (`"type": "click"`)
- [x] **Step 3: 画面の改修 (UI/UX)**
    - [x] `style.css` にクリック可能な文字用のスタイルを追加
    - [x] `quiz.html` に `th:if` で入力欄とクリックエリアを出し分ける処理を追加
    - [x] JavaScriptでクリック時に正解を送信する仕組みを実装
    
## 🥅 ゴール5: 本番環境へのデプロイ
作成した機能を本番サーバー (Render) に反映し、スマホ実機で動作確認を行う。

- [x] **Step 1: コードの反映**
    - [x] 作業ブランチを `main` にマージしてプッシュ
- [x] **Step 2: 動作確認**
    - [x] Renderのデプロイ完了を待つ
    - [x] スマホでURLにアクセスし、メニューやクリック問題が動くか確認

## 🥅 ゴール6: 画像クリック探索型問題の実装 (Level 5)
HTMLイメージマップを使用し、カモフラージュされた画像の中から正解をクリックする高難易度な謎を追加する。

- [x] **Step 1: データの型拡張 (Model)**
    - [x] `Riddle.java` に `imageUrl` フィールドを追加
    - [x] コンストラクタ変更に伴うテスト修正 (Red)
- [x] **Step 2: データ更新 (JSON & Image)**
    - [x] `riddles.json` に Level 5 (type="image-map") を追加
    - [x] 暗号画像ファイル (`level5.png`) を作成して配置
    - [x] Repositoryテストの追加
- [x] **Step 3: コントローラー拡張**
    - [x] `MainController` に画像クリック判定用 (GET) のメソッドを追加
- [x] **Step 4: 画面実装**
    - [x] `quiz.html` にイメージマップ表示処理を追加
---

## 🛡️ TDD・勉強
- [x] JUnit（テストツール）が動くか試してみる
- [ ] 「足し算」くらいの簡単なロジックでテストを1個書いてみる

## ☕ その他（超重要）
- [ ] 疲れたらすぐ寝る
- [x] できたことを褒める